<!-- Tournaments List View - Table of running/completed/saved tournaments -->
<div class="tournaments-table-view" x-show="!selectedTournament" x-init="initTournamentsTables()">
    <!-- Header with actions -->
    <div class="table-header">
        <div style="display: flex; align-items: center; gap: 12px;">
            <h2>Tournaments <span class="text-muted" style="font-weight: normal; font-size: 14px;" x-text="'(' + (runningTournaments.length + completedTournaments.length + savedTournaments.length) + ')'"></span></h2>
        </div>
        <div style="display: flex; gap: 8px; align-items: center;">
            <button class="btn btn-secondary btn-sm" @click="loadSavedTournaments()" :disabled="savedTournamentsLoading">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="17 8 12 3 7 8"/>
                    <line x1="12" y1="3" x2="12" y2="15"/>
                </svg>
                <span x-text="savedTournamentsLoading ? 'Loading...' : 'Load Saved'"></span>
            </button>
            <button class="btn btn-primary" @click="showNewTournament = true; loadAllScenarios(); loadNegotiatorTypes()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
                <span>Start Tournament</span>
            </button>
        </div>
    </div>
    
    <!-- Running Tournaments Section -->
    <div class="table-section" x-show="runningTournaments.length > 0" style="margin-bottom: 24px;">
        <h3>
            <span class="status-dot running"></span>
            Running (<span x-text="runningTournaments.length"></span>)
        </h3>
        <div id="running-tournaments-table"></div>
    </div>
    
    <!-- Completed Tournaments Section (current session) -->
    <div class="table-section" style="flex: 1; display: flex; flex-direction: column; min-height: 0;">
        <h3>
            <span class="status-dot" style="background: var(--success);"></span>
            Completed This Session (<span x-text="completedTournaments.length"></span>)
        </h3>
        
        <template x-if="completedTournaments.length === 0 && runningTournaments.length === 0 && savedTournaments.length === 0">
            <div class="empty-state" style="flex: 1;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="12" cy="8" r="5"></circle>
                    <path d="M12 13v7"></path>
                    <path d="M9 20h6"></path>
                </svg>
                <div class="empty-state-title">No Tournaments Yet</div>
                <div class="empty-state-text">
                    Start a new tournament or load saved ones.
                </div>
            </div>
        </template>
        
        <div id="completed-tournaments-table" x-show="completedTournaments.length > 0"></div>
    </div>
    
    <!-- Saved Tournaments Section -->
    <div class="table-section saved-tournaments-section" x-show="savedTournaments.length > 0 || showArchivedTournaments || tournamentTagFilter" style="flex: 1; display: flex; flex-direction: column; min-height: 0;">
        <h3 style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 8px;">
            <span style="display: flex; align-items: center; gap: 8px;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
                </svg>
                Saved (<span x-text="savedTournaments.length"></span>)
            </span>
            <div style="display: flex; gap: 8px; align-items: center;">
                <!-- Tag filter -->
                <select class="form-control form-control-sm" style="width: auto; min-width: 100px;" x-model="tournamentTagFilter" @change="loadSavedTournaments()">
                    <option value="">All tags</option>
                    <template x-for="tag in availableTournamentTags" :key="tag">
                        <option :value="tag" x-text="tag"></option>
                    </template>
                </select>
                <!-- Show archived toggle -->
                <label style="display: flex; align-items: center; gap: 4px; font-size: 12px; font-weight: normal; cursor: pointer;">
                    <input type="checkbox" x-model="showArchivedTournaments" @change="loadSavedTournaments()">
                    <span>Show archived</span>
                </label>
                <!-- Clear all button -->
                <button class="btn btn-ghost btn-xs" @click="clearSavedTournaments()" title="Clear all saved">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                </button>
            </div>
        </h3>
        <div id="saved-tournaments-table" x-show="savedTournaments.length > 0"></div>
    </div>
</div>
